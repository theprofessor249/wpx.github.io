



<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/wpx.github.io/imageshttps:/tenadmin.oss-cn-chengdu.aliyuncs.com/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/wpx.github.io/images/favicon.ico">
  <link rel="mask-icon" href="/wpx.github.io/images/logo.svg" color="">
  <link rel="manifest" href="/wpx.github.io/images/manifest.json">
  <meta name="msapplication-config" content="/wpx.github.io/images/browserconfig.xml">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="培新" href="https://theprofessor249.github.io/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="培新" href="https://theprofessor249.github.io/atom.xml" />
<link rel="alternate" type="application/json" title="培新" href="https://theprofessor249.github.io/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC%E2%80%99:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/wpx.github.io/css/app.css?v=0.2.5">

  

<link rel="canonical" href="https://theprofessor249.github.io/2021/07/07/%E7%AC%94%E8%AE%B0%E7%B1%BB/%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86%20%20%20%20%20Linux%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86/">



  <title>
第四部分   Linux用户管理 - 笔记类 |
培新</title>
<meta name="generator" content="Hexo 5.3.0"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">第四部分   Linux用户管理
  </h1>
  
<div class="meta">
  <span class="item" title="创建时间：2021-07-07 09:11:40">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">发表于</span>
    <time itemprop="dateCreated datePublished" datetime="2021-07-07T09:11:40+08:00">2021-07-07</time>
  </span>
  <span class="item" title="本文字数">
    <span class="icon">
      <i class="ic i-pen"></i>
    </span>
    <span class="text">本文字数</span>
    <span>8.1k</span>
    <span class="text">字</span>
  </span>
  <span class="item" title="阅读时长">
    <span class="icon">
      <i class="ic i-clock"></i>
    </span>
    <span class="text">阅读时长</span>
    <span>7 分钟</span>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="切换导航栏">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/wpx.github.io/" rel="start">培新</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
        <ul>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/006vONQWly8gr93a9b705j31hc0u0jui.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/006vONQWly8gr93a82b6gj30bu06o74p.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/006vONQWly8gr93anasctj31hc0u077s.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/006vONQWly8gr9eakuadlj60hs08r0t102.jpg"></li>
          <li class="item" data-background-image="https://tva4.sinaimg.cn/large/006vONQWly8gr9eadw8jbj30dw09xjrt.jpg"></li>
          <li class="item" data-background-image="https://tva4.sinaimg.cn/large/006vONQWly8gr93as28fzj30zk0k0q3u.jpg"></li>
        </ul>
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/wpx.github.io/">首页</a></span><i class="ic i-angle-right"></i>
<span  class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/wpx.github.io/categories/%E7%AC%94%E8%AE%B0%E7%B1%BB/" itemprop="item" rel="index" title="分类于 笔记类"><span itemprop="name">笔记类</span></a>
<meta itemprop="position" content="1" /></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN">
  <link itemprop="mainEntityOfPage" href="https://theprofessor249.github.io/2021/07/07/%E7%AC%94%E8%AE%B0%E7%B1%BB/%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86%20%20%20%20%20Linux%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/wpx.github.io/images/avatar.jpg">
    <meta itemprop="name" content="WengPeiXin">
    <meta itemprop="description" content=", ">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="培新">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <h1 id="Linux账户与身份管理"><a href="#Linux账户与身份管理" class="headerlink" title="Linux账户与身份管理"></a>Linux账户与身份管理</h1><h2 id="Linux的账号与用户组"><a href="#Linux的账号与用户组" class="headerlink" title="Linux的账号与用户组"></a>Linux的账号与用户组</h2><h3 id="用户识别：UID与GID"><a href="#用户识别：UID与GID" class="headerlink" title="用户识别：UID与GID"></a>用户识别：UID与GID</h3><p><strong>每个文件都具有拥有者与拥有用户组的属性。每个登录的用户至少会取得两个ID，一个是用户（User ID，简称UID），一个是用户组ID（Group ID，简称GID）</strong></p>
<ul>
<li>如何登录Linux取得UID/GID</li>
</ul>
<p><img data-src="https://tva1.sinaimg.cn/large/008jSNE7ly8gs87aqxap0j30ko031myd.jpg"></p>
<h3 id="用户账号：-etc-passwd、-etc-shadow"><a href="#用户账号：-etc-passwd、-etc-shadow" class="headerlink" title="用户账号：/etc/passwd、/etc/shadow"></a>用户账号：/etc/passwd、/etc/shadow</h3><p>1./etc/passwd</p>
<p><img data-src="https://tva4.sinaimg.cn/large/008jSNE7ly8gs87b3eoq7j30kw0i1q90.jpg"></p>
<p><img data-src="https://tva2.sinaimg.cn/large/008jSNE7ly8gs87bdbyr7j30kk0d9tci.jpg"></p>
<p>2./etc/shadow</p>
<p><img data-src="https://tva2.sinaimg.cn/large/008jSNE7ly8gs87bsygsyj30l60ld7f6.jpg"></p>
<h3 id="关于用户组：有效与初始用户组、groups-newgrp"><a href="#关于用户组：有效与初始用户组、groups-newgrp" class="headerlink" title="关于用户组：有效与初始用户组、groups/newgrp"></a>关于用户组：有效与初始用户组、groups/newgrp</h3><p>1./etc/group:用于记录GID与用户组名称的</p>
<p><img data-src="https://tva2.sinaimg.cn/large/008jSNE7ly8gs87c38oclj30l20c7dhk.jpg"></p>
<p>2.有效用户组与初始用户组</p>
<p><strong>GID就是初始用户组；当用户登录系统，立刻就拥有这个用户组的相关权限</strong><br><strong>在/etc/passwd中，GID就是初始用户组</strong><br><strong>直接输入groups就可以，在输出消息中，可以知道我同时属于dmtsai及users两个用户组，而第一个输出的用户组为有效用户组，可通过newgrp改变有效用户组</strong></p>
<p>先查看一下 /etc/group 文件：</p>
<p>[root@localhost /]# cat /etc/group<br>root:x:0:root<br>bin:x:1:root,bin,daemon</p>
<p>这个文件的每一行代表一个用户组，以冒号分隔各个字段。共有4个字段，分别是：</p>
<p><strong>用户组名称</strong><br><strong>用户组密码：</strong>通常不需要设置，这个设置通常是给“用户组管理员”是用的。<br><strong>GID：用户组 ID</strong><br>此用户组支持的账号名称：一个账号可以加入多个用户组，如果某个用户想要加入某个用户组，只需将该用户的用户名添加进这个字段中。<br><strong>初始用户组</strong><br>在 /etc/passwd 中用户对应的那一行的第4个字段（GID），就是初始用户组。当用户登录系统，立刻就拥有这个初始用户组的相关权限。</p>
<p>[root@localhost /]# cat /etc/passwd<br>root:x:0:0:root:/root:/bin/bash<br>bin:x:1:1:bin:/bin:/sbin/nologin</p>
<hr>
<p>有效用户组<br>有效用户组表示用户此时此刻所在的用户组是什么。在切换有效用户组之前，有效用户组就是初始用户组。</p>
<p>想要知道用户自己当前的有效用户组和支持的用户组(在 /etc/group 文件中第四字段包含此用户的用户组)，使用 groups 即可。</p>
<p>[root@localhost /]# groups<br>root bin daemon sys adm disk wheel</p>
<p><strong>在这个输出的信息中，第一个输出的用户组就是当前的有效用户组了</strong></p>
<p>如果我以 touch 去创建一个新文件，那么这个文件的所有者为 root,而且用户组是 root（有效用户组）。</p>
<p><strong>切换有效用户组：newgrp</strong></p>
<p>使用 newgrp 命令可以切换有效用户组，注意只能切换当前账号支持的用户组。</p>
<p>假设当前用户支持 “test” 和 “foo” 这两个用户组。那么 newgrp test 和 newgrp foo 是有效的。其他的都是无效的。</p>
<p>这个转换的背后原理是创建一个新的 shell，如果要恢复到前一个用户组需要用 exit 或 Ctrl+D 来注销当前的 shell 。</p>
<p>3./etc/gshadow</p>
<p><strong>如果没有明白/etc/gshadow的设置，newgrp是无法操作的</strong></p>
<p><img data-src="https://tva1.sinaimg.cn/large/008jSNE7ly8gs87d5u0k1j30lm05cjsw.jpg"></p>
<h2 id="账户管理"><a href="#账户管理" class="headerlink" title="账户管理"></a>账户管理</h2><h3 id="新增与删除用户：useradd、相关设置文件、passwd、usermod、userdel"><a href="#新增与删除用户：useradd、相关设置文件、passwd、usermod、userdel" class="headerlink" title="新增与删除用户：useradd、相关设置文件、passwd、usermod、userdel"></a>新增与删除用户：useradd、相关设置文件、passwd、usermod、userdel</h3><p>1.useradd(-u、-r)</p>
<p><img data-src="https://tva4.sinaimg.cn/large/008jSNE7ly8gs88n3fy98j30k304wwfo.jpg"></p>
<p><img data-src="https://tva2.sinaimg.cn/large/008jSNE7ly8gs88nis4lzj30km0lvteu.jpg"></p>
<p><img data-src="https://tva1.sinaimg.cn/large/008jSNE7ly8gs88nomiqoj30ka02r0sr.jpg"></p>
<p>2.相关设置文件</p>
<p><strong>使用useradd去新增用户时，一些在/etc/passwd中的值会去参考/etc/default/useradd</strong></p>
<p><img data-src="https://tva4.sinaimg.cn/large/008jSNE7ly8gs88nw81a5j30jh03ydgh.jpg"></p>
<p>3.关于用户组的建立机制</p>
<p>用户组有两种建立机制：</p>
<p><img data-src="https://tva1.sinaimg.cn/large/008jSNE7ly8gs88ppt2tej30kf02njsa.jpg"></p>
<p>4.关于用户家目录的参考：/etc/skel/*</p>
<p><strong>利用useradd  vbird1时，它在/home/vbird这个用户家目录内的各项数据，都是由/etc/skel所复制过去的。所以，将来如果想要新增用户，该用户大的环境变量~/.bashrc设置好的话，可以到/etc/skel/.bashrc去编辑，也可以建立/etc/skel/public_html目录，新增用户后，在它的家目录下就会有pubilc_html目录了</strong></p>
<p>5.关于用户UID/GID的设置</p>
<p><img data-src="https://tva1.sinaimg.cn/large/008jSNE7ly8gs88shiv37j30k807p76l.jpg"></p>
<p>6.关于家目录默认是否建立</p>
<p><strong>注意CREATE_HOME的设置值也很重要。在FC4的环境下，使用useradd   useraccount时，默认会主动建立家目录，除非使用-M参数。不论哪个版本，最好还是加上-m参数来强制建立家目录</strong></p>
<p><img data-src="https://tva1.sinaimg.cn/large/008jSNE7ly8gs88tm87pyj30ld03k755.jpg"></p>
<p>7.passwd</p>
<p><img data-src="https://tva1.sinaimg.cn/large/008jSNE7ly8gs88tvrsopj30jx0cc41e.jpg"></p>
<p>8.usermod</p>
<p><img data-src="https://tva3.sinaimg.cn/large/008jSNE7ly8gs88u9ov1bj30kl0knwks.jpg"></p>
<p><strong>usermod是系统管理员root用来管理账号身份的相关数据的，不过这个usermod程序的功能其实也被很多其他命令所取代，如chfn与chsh等</strong></p>
<p>9.userdel</p>
<p><strong>作用是删除用户</strong></p>
<p><img data-src="https://tva2.sinaimg.cn/large/008jSNE7ly8gs88uk7m3pj30k50cmgmg.jpg"></p>
<h3 id="用户功能：chfn、chsh"><a href="#用户功能：chfn、chsh" class="headerlink" title="用户功能：chfn、chsh"></a>用户功能：chfn、chsh</h3><p>1.chsh</p>
<p><img data-src="https://tva3.sinaimg.cn/large/008jSNE7ly8gs8ggwi3ezj30k50bxmzq.jpg"></p>
<p>2.chfn</p>
<p><img data-src="https://tva1.sinaimg.cn/large/008jSNE7ly8gs8gh8yy0oj30l20hvadk.jpg"></p>
<p><img data-src="https://tva1.sinaimg.cn/large/008jSNE7ly8gs8ghiceozj30ky04ujs9.jpg"></p>
<p>3.finger</p>
<p><strong>用chfn修改用户的相关信息，这些信息就可以利用finger来查看</strong></p>
<p><img data-src="https://tva4.sinaimg.cn/large/008jSNE7ly8gs8ghr4gmxj30k207s0u3.jpg"></p>
<p><strong>finger可以用来查询其他主机的账号</strong></p>
<p>4.id</p>
<p><strong>id命令可以查询某人或自己的相关UID/GID信息</strong></p>
<p><img data-src="https://tva1.sinaimg.cn/large/008jSNE7ly8gs8gi7180nj30k5058dgk.jpg"></p>
<h3 id="新增与删除用户组"><a href="#新增与删除用户组" class="headerlink" title="新增与删除用户组"></a>新增与删除用户组</h3><p><strong>用户组内容与下面两个文件有关</strong></p>
<p><img data-src="https://tva4.sinaimg.cn/large/008jSNE7ly8gs8gif3mbkj30k1017dfo.jpg"></p>
<p><strong>用户组的内容其实很简单，只是对上面两个文件进行新增，修改与删除而已，如果再加上有效用户组的概念，那么对newgrp与gpasswd则不可不知</strong></p>
<p>1.groupadd</p>
<p><img data-src="https://tva1.sinaimg.cn/large/008jSNE7ly8gs8gio267wj30jv0aa0um.jpg"></p>
<p>2.groupmod</p>
<p><strong>只是在进行group相关参数的修改</strong></p>
<p><img data-src="https://tva1.sinaimg.cn/large/008jSNE7ly8gs8gixzli5j30kh06qwfh.jpg"></p>
<p>3.groupdel</p>
<p><strong>删除用户组</strong></p>
<p><img data-src="https://tva2.sinaimg.cn/large/008jSNE7ly8gs8gj6e5qdj30k704zaal.jpg"></p>
<p>4.gpasswd</p>
<p><strong>除了设置用户组之外，还可以针对系统上有的用户组设置密码，该用户组就能让某些人登录成为有效用户组</strong></p>
<p><img data-src="https://tva4.sinaimg.cn/large/008jSNE7ly8gs8gjnxf4mj30k007ujtu.jpg"><br><img data-src="https://tva2.sinaimg.cn/large/008jSNE7ly8gs8gk2k27rj30k20btact.jpg"></p>
<p>5.newgrp</p>
<p><strong>newgrp会额外以另一个login来让用户登录到另一个shell中，并且将有效用户组改为newgrp后面接的那个用户组，若没有接用户组，则默认用户组为初始用户组</strong></p>
<h3 id="密码管理：passwd"><a href="#密码管理：passwd" class="headerlink" title="密码管理：passwd"></a>密码管理：passwd</h3><p><img data-src="https://tva1.sinaimg.cn/large/008jSNE7ly8gs8gkau0kyj30ks0d0q5k.jpg"></p>
<h2 id="切换用户身份"><a href="#切换用户身份" class="headerlink" title="切换用户身份"></a>切换用户身份</h2><ul>
<li><p>操作的习惯：为了安全，建议操作Linux时，尽量以一般身份用户来操作，等到需要设置系统环境时，才变换身份成为root来进行系统管理，相对比较安全</p>
</li>
<li><p>用较低权限启动系统服务：烤炉到系统的安全性，必须要以某些系统账号来执行程序</p>
</li>
<li><p>软件本身的限制：以前没有ssh的时候，我们都是使用telnet登录系统的，偏偏系统默认是不打开root以telnet登录；系统最特殊的账号就是UID为0的用户，它具有至高无上的权力，而且时系统管理员必须要具备的身份</p>
</li>
<li><p>用su直接将身份变成root，但这个命令需要面膜</p>
</li>
<li><p>如果不想将root的密码外传，可以使用sudo</p>
</li>
</ul>
<p>1.su</p>
<p><img data-src="https://tva2.sinaimg.cn/large/008jSNE7ly8gs8gknxm6pj30k10j6gpy.jpg"><br><img data-src="https://tva4.sinaimg.cn/large/008jSNE7ly8gs8gm3qbqcj30jz035dg5.jpg"></p>
<p><strong>su的特别使用方式</strong></p>
<blockquote>
<p>如果只是想要使用root身份操作系统，并不想要改变原来的环境参数，可以使用su直接切换的身份成为root</p>
</blockquote>
<blockquote>
<p>建议如果要切换成某个身份，使用su或者是su - l  username，否则容易造成环境变量的差异</p>
</blockquote>
<blockquote>
<p>如果仅想执行一次root的命令，可以参考-c这种su的使用方式</p>
</blockquote>
<blockquote>
<p>当root使用su切换身份时，并不需要输入密码</p>
</blockquote>
<h3 id="sudo"><a href="#sudo" class="headerlink" title="sudo"></a>sudo</h3><p><strong>sudo是如何工作的</strong></p>
<p><img data-src="https://tva4.sinaimg.cn/large/008jSNE7ly8gs8gmw63flj30k303r0tw.jpg"></p>
<p><strong>sudo的执行权限与/etc/sudoers文件有关。在默认的情况下，只有root才能使用sudo，编辑/etc/sudoers时则需要visudo命令</strong></p>
<p><img data-src="https://tva1.sinaimg.cn/large/008jSNE7ly8gs8gng79cpj30jx05aq3q.jpg"></p>
<p><img data-src="https://tva2.sinaimg.cn/large/008jSNE7ly8gs8gs65yz4j30k40blgnz.jpg"></p>
<p><strong>一定要使用visudo去编辑/etc/sudoers(visudo必须使用root的身份来执行)</strong></p>
<p><img data-src="https://tva4.sinaimg.cn/large/008jSNE7ly8gs8gtvwm6mj30je0bqwgo.jpg"></p>
<p><strong>使用visudo之后，就会出现一个画面，它就是以vi来打开/etc/sudoers的，当我们存储离开时，visudo会去检查/etc/sudoers内部的语法，以避免用户输入错误的信息。在上面只加入一行，就是让用户成为可以随意使用sudo的身份</strong></p>
<p><img data-src="https://tva2.sinaimg.cn/large/008jSNE7ly8gs8gua9gzij30jr010aa0.jpg"><br><img data-src="https://tva4.sinaimg.cn/large/008jSNE7ly8gs8gy0t78oj30id0htte1.jpg"></p>
<h2 id="用户的特殊Shell与PAM模块"><a href="#用户的特殊Shell与PAM模块" class="headerlink" title="用户的特殊Shell与PAM模块"></a>用户的特殊Shell与PAM模块</h2><h3 id="特殊的shell、-sbin-nologin"><a href="#特殊的shell、-sbin-nologin" class="headerlink" title="特殊的shell、/sbin/nologin"></a>特殊的shell、/sbin/nologin</h3><p><strong>这个shell通常时给系统账号使用的，因为/sbin/nologin事实上无法让账号实际登录，如果利用usermod将dmtsai用户的shell改为/sbin/nologin之后，再次以dmtsai登录系统，屏幕就会出现不允许这个账号登录，不过可以进行其他工作，例如打印工作、www服务。他们都可以进行系统程序的工作，但就是无法登录主机</strong></p>
<p><strong>所以可以考虑单纯使用邮件的账号以/sbin/nologin作为shell，当主机尝试想登录系统时，可以拒绝该账号</strong></p>
<h3 id="PAM模块：-etc-nologin、-etc-securetty"><a href="#PAM模块：-etc-nologin、-etc-securetty" class="headerlink" title="PAM模块：/etc/nologin、/etc/securetty"></a>PAM模块：/etc/nologin、/etc/securetty</h3><p><strong>PAM模块除了可以在用户登录时进行身份验证之外，还可以辅助一些应用程序的验证</strong></p>
<p><strong>PAM怎么运行的，以/usr/bin/passwd来说明</strong></p>
<p><img data-src="https://tva2.sinaimg.cn/large/008jSNE7ly8gs8gygt6g2j30k70apjtc.jpg"></p>
<p><strong>重要信息：</strong></p>
<p><img data-src="https://tva2.sinaimg.cn/large/008jSNE7ly8gs8gyob15pj30le031ab5.jpg"></p>
<p>1.PAM的设置文件设置范例</p>
<p><strong>PAM模块的作用就是让程序调用，当程序调用时，PAM就会利用相对应的设置文件来进行一些验证</strong></p>
<p><img data-src="https://tva3.sinaimg.cn/large/008jSNE7ly8gs8gz5fv4jj30l30hc0yt.jpg"></p>
<p><img data-src="https://tva2.sinaimg.cn/large/008jSNE7ly8gs8gzhrls8j30lp0c640v.jpg"></p>
<p><strong>当前FC4提供的PAM模块够多了，这些模块实际上都放在/lib/security/目录中，FC4相关的PAM说明文件则放在/usr/share/doc/pam-*/*里，可以根据每个不同的模块去讨论它的用途</strong><br><img data-src="!%5B%5D(https://tva4.sinaimg.cn/large/008jSNE7ly8gs8gzxzmbuj30kg03gmxh.jpg)"></p>
<p>2./etc/securetty</p>
<p><strong>主要功能就是预防不安全的登录环境。而且主要是针对root用户的身份。这个模块在被启动时，会去读取/etc/securetty文件，我们可以将被认定是安全的终端环境写入这个文件，则root仅可以在那几个终端环境下登录</strong></p>
<p>3./etc/nologin</p>
<p><strong>用于控制用户登录；这个模块只针对一般身份用户进行控制，对root没有效果；必须与/etc/nologin结合使用</strong><br><strong>当/etc/nologin文件存在时，任何一个一般身份账号在尝试登录时，仅会获得/etc/nologin内容的信息，而无法登录主机</strong></p>
<p>4./etc/security/*</p>
<p>*<em>更多的PAM模块设置信息可以参考/etc/security/<em>中的文件设置，尤其是针对用户使用Linux系统资源的limits.conf以及时间的time.conf</em></em></p>
<h2 id="Linux系统的用户对话与邮件的使用"><a href="#Linux系统的用户对话与邮件的使用" class="headerlink" title="Linux系统的用户对话与邮件的使用"></a>Linux系统的用户对话与邮件的使用</h2><h3 id="查询用户：w、who、last、lastlog"><a href="#查询用户：w、who、last、lastlog" class="headerlink" title="查询用户：w、who、last、lastlog"></a>查询用户：w、who、last、lastlog</h3><h3 id="用户对话：talk、mesg、wall"><a href="#用户对话：talk、mesg、wall" class="headerlink" title="用户对话：talk、mesg、wall"></a>用户对话：talk、mesg、wall</h3><p><img data-src="https://tva1.sinaimg.cn/large/008jSNE7ly8gs8h1u31iij30nl0kvjvl.jpg"></p>
<h3 id="用户邮件信箱：mail"><a href="#用户邮件信箱：mail" class="headerlink" title="用户邮件信箱：mail"></a>用户邮件信箱：mail</h3><p><strong>寄信：</strong></p>
<p><img data-src="https://tva2.sinaimg.cn/large/008jSNE7ly8gs8h27dl8cj30kd04bmxx.jpg"></p>
<p><strong>收信</strong></p>
<p><img data-src="https://tva2.sinaimg.cn/large/008jSNE7ly8gs8h2w1twbj30ly0hoaeh.jpg"><br><img data-src="https://tva3.sinaimg.cn/large/008jSNE7ly8gs8h3hk51jj30kp09v77f.jpg"></p>
<h2 id="手动增加用户"><a href="#手动增加用户" class="headerlink" title="手动增加用户"></a>手动增加用户</h2><h3 id="一些检查工具"><a href="#一些检查工具" class="headerlink" title="一些检查工具"></a>一些检查工具</h3><p>1.pwck</p>
<p><strong>pwck命令能检查/etc/passwd账号设置文件内的信息，以及实际的家目录是否存在等信息，还可以比较/etc/passwd、/etc/shadow的信息是否一致；如果/etc/passwd内的数据字段错误，会提示用户修改</strong></p>
<p>2.pwconv</p>
<p><strong>主要目的是：将/etc/passwd内账号与密码移到/etc/shadow中。</strong></p>
<p>3.pwunconv</p>
<p><strong>与pwconv相比，pwunconv是将/etc/shadow内的密码栏数据写回/etc/passwd中，并且删除/etc/shadow文件</strong></p>
<p>4.chpasswd</p>
<p><strong>可以用于读入未加密前的密码，并且经过加密后，将加密后的密码写入/etc/shadow中</strong></p>
<h3 id="特殊账号，如纯数字账号的建立"><a href="#特殊账号，如纯数字账号的建立" class="headerlink" title="特殊账号，如纯数字账号的建立"></a>特殊账号，如纯数字账号的建立</h3><p><strong>手动建立账号：</strong></p>
<p><img data-src="https://tva3.sinaimg.cn/large/008jSNE7ly8gs8hjr6guwj30kg09d77q.jpg"></p>
<p><img data-src="https://tva3.sinaimg.cn/large/008jSNE7ly8gs8hjxw4uhj30k40ce0vb.jpg"></p>
<h3 id="不开放终端登录的账号（ex-gt-mail-account）"><a href="#不开放终端登录的账号（ex-gt-mail-account）" class="headerlink" title="不开放终端登录的账号（ex&gt;mail  account）"></a>不开放终端登录的账号（ex&gt;mail  account）</h3><p><strong>建立一个不需要登录系统的账号</strong><br><img data-src="https://tva2.sinaimg.cn/large/008jSNE7ly8gs8ht7vaqsj30k1018glt.jpg"></p>
<p><img data-src="https://tva2.sinaimg.cn/large/008jSNE7ly8gs8htav6n4j30lo0a2q5g.jpg"></p>
<h1 id="Linux磁盘配额"><a href="#Linux磁盘配额" class="headerlink" title="Linux磁盘配额"></a>Linux磁盘配额</h1><h2 id="什么是磁盘配额"><a href="#什么是磁盘配额" class="headerlink" title="什么是磁盘配额"></a>什么是磁盘配额</h2><p> <strong>由于少数几个用户占用大量硬盘空间，势必影响其他用户的使用，因此管理员应该给用户适当开放硬盘的权限，妥善分配系统资源</strong></p>
<p>1.磁盘配额的一般用途</p>
<p><img data-src="https://tva1.sinaimg.cn/large/008jSNE7ly8gs9a98dmm0j30i702b0tc.jpg"></p>
<p>2.磁盘配额的使用限制</p>
<ul>
<li><p>针对整个分区的限制</p>
</li>
<li><p>核心必须支持磁盘配额</p>
</li>
<li><p>磁盘配额的记录文件</p>
</li>
<li><p>只对一般身份用户有效</p>
</li>
</ul>
<p>3.磁盘配额程序对硬盘配额的限制</p>
<ul>
<li><p>最低限制：容量可以超过最低限制，但必须在宽限时间之内将磁盘容量降低到最低限制的容量限制范围之内</p>
</li>
<li><p>最高限制：绝对不能超过的容量，通常最高限制会比最低限制高</p>
</li>
<li><p>宽限时间：当用户使用的空间超过最低限制，却还没有到达最高限制时，在这个宽限时间内，就必须请用户将使用的磁盘容量降低到最低限制之下</p>
</li>
</ul>
<h2 id="基本磁盘配额命令"><a href="#基本磁盘配额命令" class="headerlink" title="基本磁盘配额命令"></a>基本磁盘配额命令</h2><p>1./etc/mtab</p>
<p><strong>当我们要使用磁盘配额的功能时，文件系统必须要支持磁盘配额的标志，可通过编辑/etc/fstab后，再重新载入文件系统的方法，来让系统的文件系统支持磁盘配额</strong></p>
<p>2.quota：用于显示</p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/35ae178a4391b8b41f1d011163069d4a"></p>
<p>3.quotacheck</p>
<p><strong>主要是扫描某个磁盘的配额空间，针对分区进行扫描，由于该磁盘持续运行，可能扫描过程中文件会增减，造成磁盘配额扫描错误，因此，当使用quotacheck时，该磁盘将自动被设置成为只读扇区；扫描完毕之后，扫描所得的磁盘空间结果会写入该区最顶端</strong></p>
<p><img data-src="https://img04.sogoucdn.com/app/a/100520146/235047593b4661e92bb3786e00ce0bc8"></p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/3c1d03264334f22bf988ad3d3635a4fb"></p>
<p>4.edquota</p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/731b33f73a3611dc3ae6f4eaad45056d"></p>
<p><img data-src="https://img04.sogoucdn.com/app/a/100520146/5b7bac5e6dbb200c7710a9fe2fa702e4"></p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/1a82595fc6304e143f93d9128232406c"></p>
<p>5.quotaon</p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/77d720239327679f75405b0dc62f921c"></p>
<p>6.quotaoff</p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/edae6a0db49e8e297e323cfa0e39b648"></p>
<h2 id="磁盘配额实例"><a href="#磁盘配额实例" class="headerlink" title="磁盘配额实例"></a>磁盘配额实例</h2><p><strong>一般用途：</strong></p>
<ul>
<li><p>限制用户组所能使用的最大磁盘配额（使用户组限制）</p>
</li>
<li><p>限制某一用户的最大磁盘配额（使用用户限制）</p>
</li>
<li><p>已连接方式，使邮件可以作为限制的配额（更改/var/spool/mail路径）</p>
</li>
</ul>
<p><strong>磁盘从开始准备文件系统的支持，到整个设置结束的主要步骤如下：</strong></p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/c3539a299da8b7058198159b337bd53e"></p>
<p><strong>实际训练：</strong></p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/0985597cdde751f6aad2896be8966d09"></p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/90fe2ee5846c4fbbcdaa8719690fe1e7"></p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/3547bc9ff3a695be9e3a02ef68deba14"></p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/ff9e21aa7d2b55822d0e181df202cf5d"></p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/d4880b9490f7106cfaa4e2848158ccd5"></p>
<p><img data-src="https://img02.sogoucdn.com/app/a/100520146/d46460915965de8de4ab803751f41ee2"></p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/dba2be455f1594ec340235196dfd269f"></p>
<h2 id="不更改现有系统的磁盘配额实力"><a href="#不更改现有系统的磁盘配额实力" class="headerlink" title="不更改现有系统的磁盘配额实力"></a>不更改现有系统的磁盘配额实力</h2><p><strong>设置对外打开的邮件主机，最好对邮件空间进行限制</strong></p>
<p><strong>例子：我的分区仅有/、/disk1、/disk2,所有用户都在/home里，邮件在/var/spool/mail</strong></p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/512d89a553751d82e81da047af9142f8"></p>
<h1 id="例行性命令的建立"><a href="#例行性命令的建立" class="headerlink" title="例行性命令的建立"></a>例行性命令的建立</h1><h2 id="什么是例行性命令"><a href="#什么是例行性命令" class="headerlink" title="什么是例行性命令"></a>什么是例行性命令</h2><h3 id="Linux工作任务分配的种类：at、cron"><a href="#Linux工作任务分配的种类：at、cron" class="headerlink" title="Linux工作任务分配的种类：at、cron"></a>Linux工作任务分配的种类：at、cron</h3><p><img data-src="https://img02.sogoucdn.com/app/a/100520146/970616cd635c848fda3d6fe2d8d12a42"></p>
<h3 id="系统常见的例行性命令"><a href="#系统常见的例行性命令" class="headerlink" title="系统常见的例行性命令"></a>系统常见的例行性命令</h3><p><strong>默认工作如下：</strong></p>
<ul>
<li><p>登录文件的数据轮换</p>
</li>
<li><p>rpm数据库的建立</p>
</li>
<li><p>建立locate的数据库</p>
</li>
<li><p>程序分析</p>
</li>
<li><p>检查登录文件</p>
</li>
<li><p>指纹数据库的比较</p>
</li>
</ul>
<h2 id="仅进行一次的工作任务分配"><a href="#仅进行一次的工作任务分配" class="headerlink" title="仅进行一次的工作任务分配"></a>仅进行一次的工作任务分配</h2><p><strong>要分配工作任务时，Linux系统上有负责任务分配的服务，就是atd，只是很多新的Linux版本似乎默认不打开它，我们必须手动启动它，启动如下：</strong></p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/7d73e4a853b9f7d7a920cda8a47d836d"></p>
<p>1.at的工作</p>
<p><strong>并不是所有人都可以进行at工作任务分配。由于怪客程序可能定时或不定时地在系统中工作，所以可以利用/etc/at.allow与/etc/at.deny这两个文件来限制at的使用：</strong><br><img data-src="https://img01.sogoucdn.com/app/a/100520146/3903d5824428e33a0c93da5905339fd0"></p>
<p>2.开始使用at</p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/efc74c50c2c65e3ddb26ea0d5e28c689"></p>
<p><strong>当我们使用at时，at会给用户一个bash shell让用户执行工作命令，不容易出现问题</strong></p>
<p><strong>at的优点就是能进行后台执行</strong></p>
<p><strong>at命令执行错误，解决方法：</strong></p>
<p><img data-src="https://img04.sogoucdn.com/app/a/100520146/77a189a7da07b25936a100e2d5c7f6e1"></p>
<h2 id="循环执行的例行性命令"><a href="#循环执行的例行性命令" class="headerlink" title="循环执行的例行性命令"></a>循环执行的例行性命令</h2><p><strong>循环执行的例行性命令，是由cron系统服务来控制的</strong></p>
<h3 id="用户的设置：crontab"><a href="#用户的设置：crontab" class="headerlink" title="用户的设置：crontab"></a>用户的设置：crontab</h3><p><strong>我们可以限制使用crontab的用户账户，使用的限制数据有:</strong></p>
<p><img data-src="https://img02.sogoucdn.com/app/a/100520146/bbcd3a0bbb001ac388c9e362356544b4"></p>
<p><strong>/etc/cron.allow比/etc/cron.deny更优秀，在判断上，这两个文件只选择一个来限制而已，建议只要保留一个即可，以免影响自己在设置上的判断</strong></p>
<p><img data-src="https://img04.sogoucdn.com/app/a/100520146/a557200d3cc53d9a6fa098e096424629"></p>
<p><img data-src="https://img04.sogoucdn.com/app/a/100520146/7202923fb8cd3a20a6201f5205534161"></p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/04c427e51cecf015c363d8fdaa18e20d"></p>
<h3 id="系统的设置：-etc-crontab"><a href="#系统的设置：-etc-crontab" class="headerlink" title="系统的设置：/etc/crontab"></a>系统的设置：/etc/crontab</h3><p><strong>crontab  -e中的crontab其实是/usr/bin/crontab执行文件，但是/etc/crontab是一个纯文本文件，您可以用root的身份编辑这个文件</strong></p>
<p><strong>cron服务的最低检测限制是分钟，所以cron会每分钟去读取一次/etc/crontab与/var/spool/cron中的数据内容，因此，只要编辑完/etc/crontab文件，并且将它储存之后，cron的设置就自动执行了</strong></p>
<p><img data-src="https://img02.sogoucdn.com/app/a/100520146/2b06fde0fb8db1099663431ef2608565"></p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/5c9be31b031284a17fc9448ea0cd55fe"></p>
<h2 id="一些使用特性"><a href="#一些使用特性" class="headerlink" title="一些使用特性"></a>一些使用特性</h2><ul>
<li>资源分配不均的问题</li>
</ul>
<p><strong>当大量使用1crontab的时候，总是会有问题发生的，最严重的问题就是系统资源分配不均</strong></p>
<ul>
<li><p>取消不要的输出项目</p>
</li>
<li><p>安全检验</p>
</li>
</ul>
<p><strong>大部分时间都是以例行命令的放肆植入木马，所以可以通过检查/var/log/cron的内容来查看是否执行了非您设置的cron</strong></p>
<h1 id="程序与资源管理"><a href="#程序与资源管理" class="headerlink" title="程序与资源管理"></a>程序与资源管理</h1><p><strong>在Linux系统中，触发任何一个事件，系统都会将它定义成为一个进程，并且给这个进程一个ID，称为PID，同时根据启动这个进程的用户与相关属性关系，给这个PID一组有效的权限设置</strong></p>
<h3 id="进程与程序"><a href="#进程与程序" class="headerlink" title="进程与程序"></a>进程与程序</h3><p><strong>当我们要让系统工作的时候，就需要启动一个二进制文件，该二进制文件就是程序</strong></p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/2c523329963c658f3c8f85e0ee2b0fb1"></p>
<blockquote>
<p>当登入并执行bash时，系统已经给我们一个PID，这个PID就是根据登陆者的UID/GID而得到的</p>
</blockquote>
<p>1.子程序与父程序</p>
<p><strong>当我们登录系统后，会获取一个bash的shell，然后我们用这个bash提供的接口去执行另一个命令，例如/usr/bin/passwd或touch等，那些另外执行的命令也会被出发成为PID，PID就是子程序，而在bash环境下就称为父进程</strong></p>
<p><strong>环境变量在不同程序之间的调用，因为我们执行了不同的bash，执行两次，就会获得两个PID，要让这两个PID之间具有一些关联，bash就使用了环境变量</strong></p>
<p><img data-src="https://img04.sogoucdn.com/app/a/100520146/a02efce225edc3012a1dbf4575121059"></p>
<p><strong>子程序与父程序之间的关系很复杂，最复杂的地方在于程序互相之间的调用，以及两者权限的关联性</strong></p>
<p>2.系统或网络服务，常驻内存程序</p>
<p><strong>系统每分钟都会扫描/etc/crontab以及相关的设置文件，来进行工作任务分配，所以crond程序启动后，他就一直持续不断地运行，属于常驻内存程序</strong></p>
<h3 id="Linux的多用户、多任务环境"><a href="#Linux的多用户、多任务环境" class="headerlink" title="Linux的多用户、多任务环境"></a>Linux的多用户、多任务环境</h3><ul>
<li>多人环境</li>
</ul>
<p><strong>Linux允许不同的人使用，而且每个人都有特殊的权限，只有root有至高无上的权力</strong></p>
<ul>
<li>多任务行为</li>
</ul>
<p><strong>多项工作都是由一个CPU来处理，也是将多个命令触发为系统进程PID，而这些程序若同时被触发，一个CPU就要同时负责许多工作，这就是指多任务</strong></p>
<ul>
<li>多重登录环境的7个基本终端窗口</li>
</ul>
<p><strong>在Linux中，默认提供了6个命令行界面登录窗口，以及一个图形界面，可以使用alt+F1…F7键来切换不同的终端界面，而且每个终端界面的登陆这还可以是不同的人。再某个程序死掉的时候，这非常有用</strong></p>
<ul>
<li>特殊的程序管理行为</li>
</ul>
<p><strong>Linux几乎不会死机，因为它可以在任何时候，删掉将被困住的程序，然后重新执行该程序而不用重新开机</strong></p>
<ul>
<li>bash环境下的作业管理（job  control）</li>
</ul>
<p><strong>我们登录bash之后，就是获取一个名为bash的PID，在这个环境下所执行的其他命令，就是子程序</strong></p>
<ul>
<li>多用户、多任务的系统资源分配问题</li>
</ul>
<p><strong>多用户、多任务确实有很多好处，但因为用户越来越多，将导致管理上的问题。当用户达到一定的人数后，通常您的机器便需要升级了，因为CPU的运算与RAM的大小可鞥你会不足以应付日常的工作。</strong></p>
<h2 id="作业管理：-amp-、ctrl-z、jobs、fg、bg、kill"><a href="#作业管理：-amp-、ctrl-z、jobs、fg、bg、kill" class="headerlink" title="作业管理：&amp;、ctrl -z、jobs、fg、bg、kill"></a>作业管理：&amp;、ctrl -z、jobs、fg、bg、kill</h2><p><strong>作业管理是在bash环境下使用的；就是当我们登录系统获取bash shell之后，在单一终端界面下，同时管理多个作业；就如我们登录bash后，想同时复制文件、进行数据搜索、进行编译，还可以编写vi程序</strong></p>
<p>1.直接将命令放到后台执行的&amp;</p>
<p><strong>后台与前台：</strong></p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/91f9e4b459c7d7b9a45ccbb661a50673"></p>
<p><img data-src="https://img04.sogoucdn.com/app/a/100520146/eb356a75a2b15960b4eb6c01b25d6829"></p>
<p>2.将当前作业放到后台暂停：Ctrl-z</p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/11ce5f1279e46dc9783d750d65278d87"></p>
<p>3.观察当前后台作业状态：jobs</p>
<p><img data-src="https://img04.sogoucdn.com/app/a/100520146/b421889fc72b847aa30b1a20ea09ec14"></p>
<p>4.将后台作业拿到前台处理：fg</p>
<p><img data-src="https://img02.sogoucdn.com/app/a/100520146/e78fd2a67867d459b8394ca73a08c54d"></p>
<p>5.让作业在后台进行：bg</p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/cc9903484300f958dd770b43acf138ba"></p>
<p>6.管理后台作业：kill</p>
<p><strong>这个信号通常用在强制一个不正常的作业的情况</strong></p>
<p><img data-src="https://img04.sogoucdn.com/app/a/100520146/65fc8cc3ec84c64bb79ac42de7a263ea"></p>
<h2 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h2><p><strong>进程管理的重要性：</strong></p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/0e29224b4c991dae9878cee0c139153b"></p>
<h3 id="进程的观察"><a href="#进程的观察" class="headerlink" title="进程的观察"></a>进程的观察</h3><p>1.ps</p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/843b2eac4df94ba2aefc44199de295c9"></p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/d8158630d84f02e6a992291c8dcb45f0"></p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/1ad41691a4f24a71d427dba9830844a7"></p>
<p><strong>范例二显示项目表示的意义：</strong></p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/9f0f6cbd740c245c57596b3d5697e0b0"></p>
<p>2.top</p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/ffcc3058eb47c40ac60e7ddd5abeb5a8"><br><img data-src="https://img01.sogoucdn.com/app/a/100520146/1eb6b645b9b15b8b1c093f699768ba12"></p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/ca19b079fa41e2025f7010db6d0dae73"></p>
<p><strong>top进程可以持续检测整个系统的进程工作状态</strong></p>
<p><strong>进程使用的资源情况</strong></p>
<p><img data-src="https://img04.sogoucdn.com/app/a/100520146/56eef4a065c27204c4a93471d35ef8df"></p>
<p>3.pastree</p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/3e4349061c7637f394f6463fbb159831"></p>
<p><img data-src="https://img04.sogoucdn.com/app/a/100520146/b11e3507071461999343d06e14bb93c2"></p>
<p><strong>直接输入pstree可以查到进程的关联性，最好直接加上-A使用；如果子进程死掉或者总是删不掉子进程，用pstree查找父进程</strong></p>
<h3 id="进程的删除"><a href="#进程的删除" class="headerlink" title="进程的删除"></a>进程的删除</h3><p><strong>主要信号代号与名臣的对应集内容</strong></p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/6367962d64562b31fab6e68fcb54ccec"></p>
<p><strong>kill可以帮我们将信号传送给某个作业或者是某个PID，kill后面直接加数字与加上%的情况是不同的</strong></p>
<p>例：</p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/c8f4f353f7ee8506e92b06176965126d"></p>
<p><strong>用killall，可直接把SIGHUP信号给syslog进程</strong></p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/6a15b3997ee3193fc3f3002d5c7657b5"></p>
<h3 id="系统资源的观察"><a href="#系统资源的观察" class="headerlink" title="系统资源的观察"></a>系统资源的观察</h3><p>1.free</p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/d17d448937837a1f979fc41daa982c37"></p>
<p><strong>Men行显示物理内存量，Swap是虚拟内存量，total是总量，used是已用的量，free是剩余可用的量，后面的shared/buffers/cached是在已用的量中，用来进行缓冲及缓存</strong></p>
<p>2.uname</p>
<p><img data-src="https://img02.sogoucdn.com/app/a/100520146/f056c11c8b4202cd68c9c15ceaab0e9c"></p>
<p><strong>uname可以列出当前系统的核心版本，主要硬件平台以及CPU类型等信息；例如范一，Linux主机使用的核心名称为linux,而主机名称为linux site，核心的版本为2.6.12~1.1398_FC4，该核心版本建立的日期为2005/7/15，适用的硬件平台为i386以上等级的硬件平台</strong></p>
<p>3.uptime</p>
<p><strong>用于显示当前系统已开机时间</strong></p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/3f2a572985ffab198631f2226cdfdcd2"></p>
<p>4.netstat</p>
<p><strong>常用在网络的监控方面，netstat的输出分为两部分，上面是网络接口相关的联机，下方则是与unix进程有关的项目</strong></p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/a8ef73c8237bb87586c839fc488419de"></p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/aa9154ee1d08cf23b8a445f96deff1df"></p>
<p>5.dmesg</p>
<p>** 查看CPU的形式、硬盘、光盘型号及硬盘分区表；如果消息太多，可加入管道命令| more 来使画面暂停 **</p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/e0f7c2f9aa97e915bedd4348438ced9e"></p>
<p>6.sar</p>
<p><strong>用于检测主机的资源状态，然后绘制为图表</strong></p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/9504fd6a2bd141c98be575a21872189b"></p>
<h2 id="进程的执行顺序"><a href="#进程的执行顺序" class="headerlink" title="进程的执行顺序"></a>进程的执行顺序</h2><p><img data-src="https://img01.sogoucdn.com/app/a/100520146/fd535725adcfab15276e67118b7c0547"></p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/9014501717e9ba94a40f50fe1bc51fe3"></p>
<p><strong>nice使用于调整进程的执行优先级；renice用于调整nice的值</strong></p>
<h2 id="特殊文件与进程"><a href="#特殊文件与进程" class="headerlink" title="特殊文件与进程"></a>特殊文件与进程</h2><h3 id="SUID-SGID-SBIT的概念"><a href="#SUID-SGID-SBIT的概念" class="headerlink" title="SUID/SGID/SBIT的概念"></a>SUID/SGID/SBIT的概念</h3><p>关于SUID的执行：</p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/a0621cadb2378f5c229693d4b9eb7b20"></p>
<p><strong>当用户触发的SUID的进程中，有效用户会变成SUID命令的进程拥有者</strong></p>
<h3 id="proc-的意义"><a href="#proc-的意义" class="headerlink" title="/proc/*的意义"></a>/proc/*的意义</h3><p>*<em>内存中的数据都写入到/proc/<em>目录</em></em></p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/0abd5a28738feddef87d73e51a52ae26"></p>
<p><img data-src="https://img02.sogoucdn.com/app/a/100520146/a616b0ad761569a144da1d70aeec6c70"></p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/29e6ce1ac7e423ede6df2d715ed82099"></p>
<h3 id="查询已打开的文件或已执行进程打开的文件"><a href="#查询已打开的文件或已执行进程打开的文件" class="headerlink" title="查询已打开的文件或已执行进程打开的文件"></a>查询已打开的文件或已执行进程打开的文件</h3><p>1.fuser</p>
<p><strong>查询当前那个进程在使用这台设备；是由文件或设备去找出使用该文件或设备的进程</strong></p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/573121660b6fad1d2a7d5193fd7f647b"></p>
<p>2.Isof</p>
<p><strong>查询某个进程打开或使用的文件与设备</strong></p>
<p><img data-src="https://img04.sogoucdn.com/app/a/100520146/7fe085ffad08f9416af3f7cfd59c44f5"></p>
<p><img data-src="https://img01.sogoucdn.com/app/a/100520146/f0bfcc63a2e96162f1fc422f4d33c86a"></p>
<p>3.pidof</p>
<p><strong>通过pidof命令，并且配合ps  aux与正则表达式，就可以很轻松地找到想要的进程信息</strong></p>
<p><img data-src="https://img03.sogoucdn.com/app/a/100520146/660abbb18c8a0963dd69d77d48ebe19e"></p>

  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">更新于</span>
    <time title="修改时间：2021-07-09 08:37:27" itemprop="dateModified" datetime="2021-07-09T08:37:27+08:00">2021-07-09</time>
  </span>
</div>

      
<div class="reward">
  <button><i class="ic i-heartbeat"></i> 赞赏</button>
  <p>请我喝[茶]~(￣▽￣)~*</p>
  <div id="qr">
      
      <div>
        <img data-src="/wpx.github.io/images/wechatpay.jpg" alt="WengPeiXin 微信支付">
        <p>微信支付</p>
      </div>
      
      <div>
        <img data-src="/wpx.github.io/images/alipay.jpg" alt="WengPeiXin 支付宝">
        <p>支付宝</p>
      </div>
  </div>
</div>

      

<div id="copyright">
<ul>
  <li class="author">
    <strong>本文博主： </strong>WengPeiXin <i class="ic i-at"><em>@</em></i>培新
  </li>
  <li class="link">
    <strong>本文链接：</strong>
    <a href="https://theprofessor249.github.io/2021/07/07/%E7%AC%94%E8%AE%B0%E7%B1%BB/%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86%20%20%20%20%20Linux%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86/" title="第四部分   Linux用户管理">https://theprofessor249.github.io/2021/07/07/笔记类/第四部分     Linux用户管理/</a>
  </li>
  <li class="license">
    <strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/wpx.github.io/2021/07/07/%E7%AC%94%E8%AE%B0%E7%B1%BB/%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86%20%20%20%E5%AD%A6%E4%B9%A0Shell%E5%92%8CShell%E8%84%9A%E6%9C%AC/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;large&#x2F;006vONQWly8gr9eacfk4fj30dw08pmxs.jpg" title="第三部分   学习Shell和Shell脚本">
  <span class="type">上一篇</span>
  <span class="category"><i class="ic i-flag"></i> 笔记类</span>
  <h3>第三部分   学习Shell和Shell脚本</h3>
  </a>

    </div>
    <div class="item right">
      

  <a href="/wpx.github.io/2021/07/13/%E7%AC%94%E8%AE%B0%E7%B1%BB/%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86%20%20%20%20%20Linux%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E5%91%98/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva2.sinaimg.cn&#x2F;large&#x2F;006vONQWly8gr9eaqc9byj30eu08c74g.jpg" title="第五部分   Linux系统管理员">
  <span class="type">下一篇</span>
  <span class="category"><i class="ic i-flag"></i> 笔记类</span>
  <h3>第五部分   Linux系统管理员</h3>
  </a>

    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="文章目录">
          <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux%E8%B4%A6%E6%88%B7%E4%B8%8E%E8%BA%AB%E4%BB%BD%E7%AE%A1%E7%90%86"><span class="toc-number">1.</span> <span class="toc-text">Linux账户与身份管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E7%9A%84%E8%B4%A6%E5%8F%B7%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BB%84"><span class="toc-number">1.1.</span> <span class="toc-text">Linux的账号与用户组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E8%AF%86%E5%88%AB%EF%BC%9AUID%E4%B8%8EGID"><span class="toc-number">1.1.1.</span> <span class="toc-text">用户识别：UID与GID</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E8%B4%A6%E5%8F%B7%EF%BC%9A-etc-passwd%E3%80%81-etc-shadow"><span class="toc-number">1.1.2.</span> <span class="toc-text">用户账号：&#x2F;etc&#x2F;passwd、&#x2F;etc&#x2F;shadow</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E7%94%A8%E6%88%B7%E7%BB%84%EF%BC%9A%E6%9C%89%E6%95%88%E4%B8%8E%E5%88%9D%E5%A7%8B%E7%94%A8%E6%88%B7%E7%BB%84%E3%80%81groups-newgrp"><span class="toc-number">1.1.3.</span> <span class="toc-text">关于用户组：有效与初始用户组、groups&#x2F;newgrp</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B4%A6%E6%88%B7%E7%AE%A1%E7%90%86"><span class="toc-number">1.2.</span> <span class="toc-text">账户管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E4%B8%8E%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7%EF%BC%9Auseradd%E3%80%81%E7%9B%B8%E5%85%B3%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6%E3%80%81passwd%E3%80%81usermod%E3%80%81userdel"><span class="toc-number">1.2.1.</span> <span class="toc-text">新增与删除用户：useradd、相关设置文件、passwd、usermod、userdel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%8A%9F%E8%83%BD%EF%BC%9Achfn%E3%80%81chsh"><span class="toc-number">1.2.2.</span> <span class="toc-text">用户功能：chfn、chsh</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E4%B8%8E%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7%E7%BB%84"><span class="toc-number">1.2.3.</span> <span class="toc-text">新增与删除用户组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86%EF%BC%9Apasswd"><span class="toc-number">1.2.4.</span> <span class="toc-text">密码管理：passwd</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E7%94%A8%E6%88%B7%E8%BA%AB%E4%BB%BD"><span class="toc-number">1.3.</span> <span class="toc-text">切换用户身份</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#sudo"><span class="toc-number">1.3.1.</span> <span class="toc-text">sudo</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%9A%84%E7%89%B9%E6%AE%8AShell%E4%B8%8EPAM%E6%A8%A1%E5%9D%97"><span class="toc-number">1.4.</span> <span class="toc-text">用户的特殊Shell与PAM模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E7%9A%84shell%E3%80%81-sbin-nologin"><span class="toc-number">1.4.1.</span> <span class="toc-text">特殊的shell、&#x2F;sbin&#x2F;nologin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PAM%E6%A8%A1%E5%9D%97%EF%BC%9A-etc-nologin%E3%80%81-etc-securetty"><span class="toc-number">1.4.2.</span> <span class="toc-text">PAM模块：&#x2F;etc&#x2F;nologin、&#x2F;etc&#x2F;securetty</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%94%A8%E6%88%B7%E5%AF%B9%E8%AF%9D%E4%B8%8E%E9%82%AE%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.5.</span> <span class="toc-text">Linux系统的用户对话与邮件的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E7%94%A8%E6%88%B7%EF%BC%9Aw%E3%80%81who%E3%80%81last%E3%80%81lastlog"><span class="toc-number">1.5.1.</span> <span class="toc-text">查询用户：w、who、last、lastlog</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%AF%B9%E8%AF%9D%EF%BC%9Atalk%E3%80%81mesg%E3%80%81wall"><span class="toc-number">1.5.2.</span> <span class="toc-text">用户对话：talk、mesg、wall</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E9%82%AE%E4%BB%B6%E4%BF%A1%E7%AE%B1%EF%BC%9Amail"><span class="toc-number">1.5.3.</span> <span class="toc-text">用户邮件信箱：mail</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E5%A2%9E%E5%8A%A0%E7%94%A8%E6%88%B7"><span class="toc-number">1.6.</span> <span class="toc-text">手动增加用户</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E4%BA%9B%E6%A3%80%E6%9F%A5%E5%B7%A5%E5%85%B7"><span class="toc-number">1.6.1.</span> <span class="toc-text">一些检查工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E8%B4%A6%E5%8F%B7%EF%BC%8C%E5%A6%82%E7%BA%AF%E6%95%B0%E5%AD%97%E8%B4%A6%E5%8F%B7%E7%9A%84%E5%BB%BA%E7%AB%8B"><span class="toc-number">1.6.2.</span> <span class="toc-text">特殊账号，如纯数字账号的建立</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%BC%80%E6%94%BE%E7%BB%88%E7%AB%AF%E7%99%BB%E5%BD%95%E7%9A%84%E8%B4%A6%E5%8F%B7%EF%BC%88ex-gt-mail-account%EF%BC%89"><span class="toc-number">1.6.3.</span> <span class="toc-text">不开放终端登录的账号（ex&gt;mail  account）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux%E7%A3%81%E7%9B%98%E9%85%8D%E9%A2%9D"><span class="toc-number">2.</span> <span class="toc-text">Linux磁盘配额</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%A3%81%E7%9B%98%E9%85%8D%E9%A2%9D"><span class="toc-number">2.1.</span> <span class="toc-text">什么是磁盘配额</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%A3%81%E7%9B%98%E9%85%8D%E9%A2%9D%E5%91%BD%E4%BB%A4"><span class="toc-number">2.2.</span> <span class="toc-text">基本磁盘配额命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E9%85%8D%E9%A2%9D%E5%AE%9E%E4%BE%8B"><span class="toc-number">2.3.</span> <span class="toc-text">磁盘配额实例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E6%9B%B4%E6%94%B9%E7%8E%B0%E6%9C%89%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%A3%81%E7%9B%98%E9%85%8D%E9%A2%9D%E5%AE%9E%E5%8A%9B"><span class="toc-number">2.4.</span> <span class="toc-text">不更改现有系统的磁盘配额实力</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BE%8B%E8%A1%8C%E6%80%A7%E5%91%BD%E4%BB%A4%E7%9A%84%E5%BB%BA%E7%AB%8B"><span class="toc-number">3.</span> <span class="toc-text">例行性命令的建立</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E4%BE%8B%E8%A1%8C%E6%80%A7%E5%91%BD%E4%BB%A4"><span class="toc-number">3.1.</span> <span class="toc-text">什么是例行性命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E5%B7%A5%E4%BD%9C%E4%BB%BB%E5%8A%A1%E5%88%86%E9%85%8D%E7%9A%84%E7%A7%8D%E7%B1%BB%EF%BC%9Aat%E3%80%81cron"><span class="toc-number">3.1.1.</span> <span class="toc-text">Linux工作任务分配的种类：at、cron</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%B8%B8%E8%A7%81%E7%9A%84%E4%BE%8B%E8%A1%8C%E6%80%A7%E5%91%BD%E4%BB%A4"><span class="toc-number">3.1.2.</span> <span class="toc-text">系统常见的例行性命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%85%E8%BF%9B%E8%A1%8C%E4%B8%80%E6%AC%A1%E7%9A%84%E5%B7%A5%E4%BD%9C%E4%BB%BB%E5%8A%A1%E5%88%86%E9%85%8D"><span class="toc-number">3.2.</span> <span class="toc-text">仅进行一次的工作任务分配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E6%89%A7%E8%A1%8C%E7%9A%84%E4%BE%8B%E8%A1%8C%E6%80%A7%E5%91%BD%E4%BB%A4"><span class="toc-number">3.3.</span> <span class="toc-text">循环执行的例行性命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%9A%84%E8%AE%BE%E7%BD%AE%EF%BC%9Acrontab"><span class="toc-number">3.3.1.</span> <span class="toc-text">用户的设置：crontab</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%AE%BE%E7%BD%AE%EF%BC%9A-etc-crontab"><span class="toc-number">3.3.2.</span> <span class="toc-text">系统的设置：&#x2F;etc&#x2F;crontab</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E4%BA%9B%E4%BD%BF%E7%94%A8%E7%89%B9%E6%80%A7"><span class="toc-number">3.4.</span> <span class="toc-text">一些使用特性</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E4%B8%8E%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86"><span class="toc-number">4.</span> <span class="toc-text">程序与资源管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%A8%8B%E5%BA%8F"><span class="toc-number">4.0.1.</span> <span class="toc-text">进程与程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E7%9A%84%E5%A4%9A%E7%94%A8%E6%88%B7%E3%80%81%E5%A4%9A%E4%BB%BB%E5%8A%A1%E7%8E%AF%E5%A2%83"><span class="toc-number">4.0.2.</span> <span class="toc-text">Linux的多用户、多任务环境</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A%E7%AE%A1%E7%90%86%EF%BC%9A-amp-%E3%80%81ctrl-z%E3%80%81jobs%E3%80%81fg%E3%80%81bg%E3%80%81kill"><span class="toc-number">4.1.</span> <span class="toc-text">作业管理：&amp;、ctrl -z、jobs、fg、bg、kill</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="toc-number">4.2.</span> <span class="toc-text">进程管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%A7%82%E5%AF%9F"><span class="toc-number">4.2.1.</span> <span class="toc-text">进程的观察</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%88%A0%E9%99%A4"><span class="toc-number">4.2.2.</span> <span class="toc-text">进程的删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E7%9A%84%E8%A7%82%E5%AF%9F"><span class="toc-number">4.2.3.</span> <span class="toc-text">系统资源的观察</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"><span class="toc-number">4.3.</span> <span class="toc-text">进程的执行顺序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E6%96%87%E4%BB%B6%E4%B8%8E%E8%BF%9B%E7%A8%8B"><span class="toc-number">4.4.</span> <span class="toc-text">特殊文件与进程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SUID-SGID-SBIT%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">4.4.1.</span> <span class="toc-text">SUID&#x2F;SGID&#x2F;SBIT的概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#proc-%E7%9A%84%E6%84%8F%E4%B9%89"><span class="toc-number">4.4.2.</span> <span class="toc-text">&#x2F;proc&#x2F;*的意义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%B7%B2%E6%89%93%E5%BC%80%E7%9A%84%E6%96%87%E4%BB%B6%E6%88%96%E5%B7%B2%E6%89%A7%E8%A1%8C%E8%BF%9B%E7%A8%8B%E6%89%93%E5%BC%80%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-number">4.4.3.</span> <span class="toc-text">查询已打开的文件或已执行进程打开的文件</span></a></li></ol></li></ol></li></ol>
      </div>
      <div class="related panel pjax" data-title="系列文章">
        <ul>
          <li><a href="/wpx.github.io/2021/06/24/%E7%AC%94%E8%AE%B0%E7%B1%BB/%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%20%20%20%20%20%E8%AE%A4%E8%AF%86Linux%E5%8F%8ALinux%E4%B8%BB%E6%9C%BA%E8%A7%84%E5%88%92%E4%B8%8E%E5%AE%89%E8%A3%85/" rel="bookmark" title="第一部分     认识Linux及Linux主机规划与安装">第一部分     认识Linux及Linux主机规划与安装</a></li><li><a href="/wpx.github.io/2021/06/24/%E7%AC%94%E8%AE%B0%E7%B1%BB/%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86%20%20%20%20Linux%E6%96%87%E4%BB%B6%EF%BC%8C%E7%9B%AE%E5%BD%95%E4%B8%8E%E7%A3%81%E7%9B%98%E6%A0%BC%E5%BC%8F/" rel="bookmark" title="第二部分    Linux文件，目录与磁盘格式">第二部分    Linux文件，目录与磁盘格式</a></li><li><a href="/wpx.github.io/2021/07/07/%E7%AC%94%E8%AE%B0%E7%B1%BB/%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86%20%20%20%E5%AD%A6%E4%B9%A0Shell%E5%92%8CShell%E8%84%9A%E6%9C%AC/" rel="bookmark" title="第三部分   学习Shell和Shell脚本">第三部分   学习Shell和Shell脚本</a></li><li class="active"><a href="/wpx.github.io/2021/07/07/%E7%AC%94%E8%AE%B0%E7%B1%BB/%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86%20%20%20%20%20Linux%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86/" rel="bookmark" title="第四部分   Linux用户管理">第四部分   Linux用户管理</a></li><li><a href="/wpx.github.io/2021/07/13/%E7%AC%94%E8%AE%B0%E7%B1%BB/%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86%20%20%20%20%20Linux%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E5%91%98/" rel="bookmark" title="第五部分   Linux系统管理员">第五部分   Linux系统管理员</a></li><li><a href="/wpx.github.io/2021/07/13/%E7%AC%94%E8%AE%B0%E7%B1%BB/linux%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9/" rel="bookmark" title="Linux 共享文件夹">Linux 共享文件夹</a></li>
        </ul>
      </div>
      <div class="overview panel" data-title="站点概览">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="WengPeiXin"
      data-src="/wpx.github.io/images/avatar.jpg">
  <p class="name" itemprop="name">WengPeiXin</p>
  <div class="description" itemprop="description"></div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/wpx.github.io/archives/">
        <span class="count">18</span>
        <span class="name">文章</span>
      </a>
    </div>
    <div class="item categories">
      <a href="/wpx.github.io/categories/">
        <span class="count">7</span>
        <span class="name">分类</span>
      </a>
    </div>
</nav>

<div class="social">
      <span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RoZXByb2Zlc3NvcjI0OS93ZW5ncGVpeGluLmdpdGh1Yi5pby5naXQ=" title="https:&#x2F;&#x2F;github.com&#x2F;theprofessor249&#x2F;wengpeixin.github.io.git"><i class="ic i-github"></i></span>
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/wpx.github.io/" rel="section"><i class="ic i-home"></i>首页</a>
  </li>

        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/wpx.github.io/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a>
  </li>

        
  <li class="item">
    <a href="/wpx.github.io/categories/" rel="section"><i class="ic i-th"></i>分类</a>
  </li>

        
  <li class="item">
    <a href="/wpx.github.io/tags/" rel="section"><i class="ic i-tags"></i>标签</a>
  </li>

  </ul>
    
  <li class="item">
    <a href="/wpx.github.io/friends/" rel="section"><i class="ic i-heart"></i>friends</a>
  </li>

    
  <li class="item">
    <a href="/wpx.github.io/links/" rel="section"><i class="ic i-magic"></i>links</a>
  </li>

    
  <li class="item">
    <a href="/wpx.github.io/about/" rel="section"><i class="ic i-user"></i>关于</a>
  </li>


</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
        <a href="/wpx.github.io/2021/07/07/%E7%AC%94%E8%AE%B0%E7%B1%BB/%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86%20%20%20%E5%AD%A6%E4%B9%A0Shell%E5%92%8CShell%E8%84%9A%E6%9C%AC/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a>
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
        <a href="/wpx.github.io/2021/07/13/%E7%AC%94%E8%AE%B0%E7%B1%BB/%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86%20%20%20%20%20Linux%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E5%91%98/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a>
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          
<div class="rpost pjax">
  <h2>随机文章</h2>
  <ul>
      
  <li class="item">
    
<div class="breadcrumb">
<a href="/wpx.github.io/categories/%E7%AC%94%E8%AE%B0%E7%B1%BB/" title="分类于 笔记类">笔记类</a>
</div>

    <span><a href="/wpx.github.io/2021/06/24/%E7%AC%94%E8%AE%B0%E7%B1%BB/%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86%20%20%20%20Linux%E6%96%87%E4%BB%B6%EF%BC%8C%E7%9B%AE%E5%BD%95%E4%B8%8E%E7%A3%81%E7%9B%98%E6%A0%BC%E5%BC%8F/" title="第二部分    Linux文件，目录与磁盘格式">第二部分    Linux文件，目录与磁盘格式</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/wpx.github.io/categories/%E6%96%87%E7%8C%AE%E7%A5%9E%E5%99%A8/" title="分类于 文献神器">文献神器</a>
</div>

    <span><a href="/wpx.github.io/2021/07/20/%E6%96%87%E7%8C%AE%E7%A5%9E%E5%99%A8/%E5%88%A9%E7%94%A8Bing%E7%BF%BB%E5%A2%99/" title="1.利用bing进行翻墙">1.利用bing进行翻墙</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/wpx.github.io/categories/%E7%AC%94%E8%AE%B0%E7%B1%BB/" title="分类于 笔记类">笔记类</a>
</div>

    <span><a href="/wpx.github.io/2021/07/13/%E7%AC%94%E8%AE%B0%E7%B1%BB/%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86%20%20%20%20%20Linux%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E5%91%98/" title="第五部分   Linux系统管理员">第五部分   Linux系统管理员</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/wpx.github.io/categories/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%B1%BB/" title="分类于 网络编程类">网络编程类</a>
</div>

    <span><a href="/wpx.github.io/2021/06/24/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%B1%BB/6/" title="简单的server-client程序">简单的server-client程序</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/wpx.github.io/categories/%E7%AC%94%E8%AE%B0%E7%B1%BB/" title="分类于 笔记类">笔记类</a>
</div>

    <span><a href="/wpx.github.io/2021/07/07/%E7%AC%94%E8%AE%B0%E7%B1%BB/%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86%20%20%20%E5%AD%A6%E4%B9%A0Shell%E5%92%8CShell%E8%84%9A%E6%9C%AC/" title="第三部分   学习Shell和Shell脚本">第三部分   学习Shell和Shell脚本</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/wpx.github.io/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B1%BB/" title="分类于 嵌入式类">嵌入式类</a>
</div>

    <span><a href="/wpx.github.io/2021/06/24/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B1%BB/2/" title="嵌入式">嵌入式</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/wpx.github.io/categories/%E6%96%87%E7%8C%AE%E7%A5%9E%E5%99%A8/" title="分类于 文献神器">文献神器</a>
</div>

    <span><a href="/wpx.github.io/2021/07/20/%E6%96%87%E7%8C%AE%E7%A5%9E%E5%99%A8/%E7%A5%9E%E7%BA%A7%E6%8F%92%E4%BB%B6-GM%E5%A4%A7%E4%BB%93%E5%BA%93Tampermonkey/" title="1.神级插件-GM大仓库Tampermonkey">1.神级插件-GM大仓库Tampermonkey</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/wpx.github.io/categories/%E6%96%87%E7%8C%AE%E7%A5%9E%E5%99%A8/" title="分类于 文献神器">文献神器</a>
</div>

    <span><a href="/wpx.github.io/2021/06/24/%E6%96%87%E7%8C%AE%E7%A5%9E%E5%99%A8/4/" title="文献神器">文献神器</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/wpx.github.io/categories/%E7%AC%94%E8%AE%B0%E7%B1%BB/" title="分类于 笔记类">笔记类</a>
</div>

    <span><a href="/wpx.github.io/2021/07/07/%E7%AC%94%E8%AE%B0%E7%B1%BB/%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86%20%20%20%20%20Linux%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86/" title="第四部分   Linux用户管理">第四部分   Linux用户管理</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/wpx.github.io/categories/ubuntu/" title="分类于 ubuntu">ubuntu</a>
</div>

    <span><a href="/wpx.github.io/2021/06/24/ubuntu/1/" title="ubuntu">ubuntu</a></span>
  </li>

  </ul>
</div>
<div>
  <h2>最新评论</h2>
  <ul class="leancloud-recent-comment"></ul>
</div>

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2010 – 
    <span itemprop="copyrightYear">2021</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">WengPeiXin @ 培新</span>
  </div>
  <div class="count">
    <span class="post-meta-item-icon">
      <i class="ic i-chart-area"></i>
    </span>
    <span title="站点总字数">49k 字</span>

    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="ic i-coffee"></i>
    </span>
    <span title="站点阅读时长">44 分钟</span>
  </div>
  <div class="powered-by">
    基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: '2021/07/07/笔记类/第四部分     Linux用户管理/',
    favicon: {
      show: "（●´3｀●）やれやれだぜ",
      hide: "(´Д｀)大変だ！"
    },
    search : {
      placeholder: "文章搜索",
      empty: "关于 「 ${query} 」，什么也没搜到",
      stats: "${time} ms 内找到 ${hits} 条结果"
    },
    valine: true,fancybox: true,copyright: '复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/wpx.github.io/js/app.js?v=0.2.5"></script>




</body>
</html>
